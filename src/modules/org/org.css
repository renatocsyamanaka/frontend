/* ---------------- base ---------------- */
.org-title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:12px;
}

.orgchart-wrapper{
  background:#fff;
  border:1px solid #f0f0f0;
  border-radius:12px;
  padding:16px;
  overflow-x:auto;
}

.orgchart{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  justify-content:center;
  gap:18px;
  min-width:900px; /* desktop horizontal */
}

.orgchart > li{
  list-style:none;
}

/* cada nó */
.org-node{
  position:relative;
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 14px;
  border:1px solid #eef2f7;
  background:#f8fafc;
  border-radius:14px;
  min-width:320px;
  max-width:360px;
  box-shadow:0 1px 0 rgba(0,0,0,.02);
}

.org-meta{
  min-width:0;
  display:flex;
  flex-direction:column;
  gap:2px;
}

.org-name{
  font-weight:700;
  font-size:15px;
  line-height:1.2;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.org-role{
  font-size:12px;
  color:#64748b;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.org-head{
  display:flex;
  justify-content:center;
}

/* botão toggle */
.org-toggle.inside{
  margin-left:auto;
  border:0;
  background:#e2e8f0;
  color:#0f172a;
  border-radius:999px;
  padding:6px 10px;
  display:flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
}

.org-toggle.inside:hover{
  filter:brightness(.98);
}

.org-count{
  font-weight:700;
}

/* filhos */
.orgchart li ul{
  list-style:none;
  margin:14px 0 0;
  padding:0;
  display:flex;
  justify-content:center;
  gap:14px;
}

/* compact row (desktop) */
.row-compact{
  gap:10px;
}

/* grid 3 (desktop) */
.grid-children-3{
  display:grid !important;
  grid-template-columns:repeat(3, minmax(240px, 1fr));
  gap:12px;
  justify-items:center;
}

/* collapsed */
.orgchart li.collapsed > ul{
  display:none;
}

/* ---------------- MOBILE FIX ---------------- */
@media (max-width: 768px){
  .org-title-row{
    flex-direction:column;
    align-items:flex-start;
  }

  .orgchart-wrapper{
    padding:12px;
    overflow-x:hidden; /* ✅ evita “estourar” */
  }

  .orgchart{
    min-width:0;        /* ✅ mata o min-width do desktop */
    display:block;      /* ✅ vira vertical */
  }

  .orgchart > li{
    display:block;
  }

  /* ✅ desliga qualquer “layout horizontal” nos filhos */
  .orgchart li ul{
    display:grid !important;
    grid-template-columns:1fr;
    justify-items:stretch;
    gap:10px;
    margin-top:10px;
  }

  /* ✅ cards 100% */
  .org-node{
    min-width:0;
    max-width:100%;
    width:100%;
  }

  .org-name, .org-role{
    white-space:normal;       /* ✅ permite quebrar */
    overflow:visible;
    text-overflow:unset;
    word-break:break-word;
  }

  /* ✅ toggle sempre ok */
  .org-toggle.inside{
    padding:6px 10px;
  }

  /* ✅ remove grid 3 no mobile (força 1 coluna) */
  .grid-children-3{
    grid-template-columns:1fr !important;
  }

  /* ✅ se você tiver conectores/linhas por pseudo-elementos, desliga aqui */
  .orgchart li::before,
  .orgchart li::after,
  .orgchart li ul::before,
  .orgchart li ul::after{
    display:none !important;
    content:none !important;
  }
}

/* classe extra usada pelo TSX */
.children-mobile{
  display:grid !important;
  grid-template-columns:1fr;
  justify-items:stretch;
  gap:10px;
}
